<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Weird Lab</title><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css"><script src="/js/third-party/jquery.min.js">           </script><script src="/js/third-party/velocity.min.js">           </script><script src="/js/third-party/velocity.ui.min.js">           </script><link rel="icon" href="/img/robomongo.png"><meta name="generator" content="Hexo 4.2.1"></head><body><nav id="nav-bar"><nav class="clear-fix" id="nav-container"><div class="pull-left" id="page-home"><a href="/">Weird Lab</a></div><i class="fa fa-bars pull-right" id="toggle-nav" aria-hidden="true"></i><ul class="pull-right" id="navs"><li><a class="nav" href="/">Home</a></li><li><a class="nav" href="/tags">Tags</a></li><li><a class="nav" href="/categories">Categories</a></li><li><a class="nav" href="/about">About</a></li></ul></nav></nav><header id="header-info"><div id="header-container"><div id="site-info"><div id="terminal-pl"><div id="top-bar"><ul id="control"><li class="btn"></li><li class="btn"></li><li class="btn"></li></ul><div id="file-path"><i class="fa fa-folder folder-ic" aria-hidden="true"></i> weird lab 10 X 10</div></div><div id="code-pl">weird lab:~/blog$
<span class="code-pl-input">cat ./categories</span><br><a class="code-pl-output-url" href="/categories/#go"><span class="code-pl-output">go</span></a><br><a class="code-pl-output-url" href="/categories/#Vue.js"><span class="code-pl-output">Vue.js</span></a><br><a class="code-pl-output-url" href="/categories/#Flask"><span class="code-pl-output">Flask</span></a><br><br>weird lab:~/blog/archives$
<span class="code-pl-input">tar -xf 2020.tar &amp;&amp; ls posts</span><br><span class="code-pl-output">2020-07-15</span><span class="code-pl-output"> </span><a class="code-pl-output-url" href="/2020/07/15/testing-package/" target="_blank"><span class="code-pl-output">Go-Testing Package</span></a><br><span class="code-pl-output">2020-07-13</span><span class="code-pl-output"> </span><a class="code-pl-output-url" href="/2020/07/13/struct-and-memory-allocation/" target="_blank"><span class="code-pl-output">Go-Struct And Its Memory Allocation</span></a><br><span class="code-pl-output">2020-05-21</span><span class="code-pl-output"> </span><a class="code-pl-output-url" href="/2020/05/21/flask-vue-js-4/" target="_blank"><span class="code-pl-output">Flask+Vue.js(4)- Vue.js connects with flask APIs</span></a><br><span class="code-pl-output">2020-05-21</span><span class="code-pl-output"> </span><a class="code-pl-output-url" href="/2020/05/21/flask-vue-js-5/" target="_blank"><span class="code-pl-output">Flask+Vue.js(5)- User Homepage and User Avatar</span></a><br><span class="code-pl-output">2020-05-21</span><span class="code-pl-output"> </span><a class="code-pl-output-url" href="/2020/05/21/flask-vue-js-6/" target="_blank"><span class="code-pl-output">Flask+Vue.js(6)- Blog CRUD And Markdown</span></a><br><span class="code-pl-output">2020-05-08</span><span class="code-pl-output"> </span><a class="code-pl-output-url" href="/2020/05/08/flask-vue-js-3/" target="_blank"><span class="code-pl-output">Flask+Vue.js(3)- Design User Model APIs</span></a><br><span class="code-pl-output">2020-05-01</span><span class="code-pl-output"> </span><a class="code-pl-output-url" href="/2020/05/01/flask-vue-js-1/" target="_blank"><span class="code-pl-output">Flask+Vue.js(1)- The First Flask RESTful API</span></a><br><span class="code-pl-output">2020-05-01</span><span class="code-pl-output"> </span><a class="code-pl-output-url" href="/2020/05/01/flask-vue-js-2/" target="_blank"><span class="code-pl-output">Flask+Vue.js(2)- Vue.js Connect With Flask RESTful API By Axios</span></a><br><br></div></div></div></div></header><div id="content-outer"><div id="content-inner"><div class="recent-post-item"><a class="article-title" href="/2020/05/21/flask-vue-js-6/">Flask+Vue.js(6)- Blog CRUD And Markdown</a><time class="article-date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-21</time><div class="article-inner"><h1 id="1-Database"><a href="#1-Database" class="headerlink" title="1. Database"></a>1. Database</h1><h2 id="1-1-Post-Model"><a href="#1-1-Post-Model" class="headerlink" title="1.1 Post Model"></a>1.1 Post Model</h2><p>Modify <code>back-end/app/models.py</code>, creat new Post model.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Post</span><span class="params">(PaginatedAPIMixin, db.Model)</span>:</span></span><br><span class="line">    __tablename__ = <span class="string">'posts'</span></span><br><span class="line">    id = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    title = db.Column(db.String(<span class="number">255</span>))</span><br><span class="line">    summary = db.Column(db.Text)</span><br><span class="line">    body = db.Column(db.Text)</span><br><span class="line">    timestamp = db.Column(db.DateTime, index=<span class="literal">True</span>, default=datetime.utcnow)</span><br><span class="line">    views = db.Column(db.Integer, default=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;Post &#123;&#125;&gt;'</span>.format(self.title)</span><br></pre></td></tr></table></figure>
<h2 id="1-2-One-to-many"><a href="#1-2-One-to-many" class="headerlink" title="1.2 One-to-many"></a>1.2 One-to-many</h2><p>Modify <code>back-end/app/models.py</code>:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">posts = db.relationship(<span class="string">'Post'</span>, backref=<span class="string">'author'</span>, lazy=<span class="string">'dynamic'</span>,</span><br><span class="line">                        cascade=<span class="string">'all, delete-orphan'</span>)</span><br></pre></td></tr></table></figure></div><div class="article-footer"><a class="article-more" href="/2020/05/21/flask-vue-js-6/#more">more>></a><div class="article-tags"><i class="fa fa-tag" aria-hidden="true"></i><a class="article-tag" href="/tags/#vue.js">vue.js</a><a class="article-tag" href="/tags/#flask">flask</a><a class="article-tag" href="/tags/#RESTful">RESTful</a><a class="article-tag" href="/tags/#API">API</a><a class="article-tag" href="/tags/#FullStack">FullStack</a></div></div></div><div class="recent-post-item"><a class="article-title" href="/2020/05/21/flask-vue-js-5/">Flask+Vue.js(5)- User Homepage and User Avatar</a><time class="article-date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-21</time><div class="article-inner"><h1 id="1-JWT"><a href="#1-JWT" class="headerlink" title="1. JWT"></a>1. JWT</h1><h2 id="1-1-pyjwt"><a href="#1-1-pyjwt" class="headerlink" title="1.1 pyjwt"></a>1.1 pyjwt</h2><p>Now use JWT, it can add some non-private data payload in Token, for example, we can put user id in it. Install the pyjwt package on the backend: </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(back-end) bash-3.2$ pip install pyjwt</span><br></pre></td></tr></table></figure></div><div class="article-footer"><a class="article-more" href="/2020/05/21/flask-vue-js-5/#more">more>></a><div class="article-tags"><i class="fa fa-tag" aria-hidden="true"></i><a class="article-tag" href="/tags/#vue.js">vue.js</a><a class="article-tag" href="/tags/#flask">flask</a><a class="article-tag" href="/tags/#RESTful">RESTful</a><a class="article-tag" href="/tags/#API">API</a><a class="article-tag" href="/tags/#FullStack">FullStack</a></div></div></div><div class="recent-post-item"><a class="article-title" href="/2020/05/21/flask-vue-js-4/">Flask+Vue.js(4)- Vue.js connects with flask APIs</a><time class="article-date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-21</time><div class="article-inner"><h1 id="1-Vue-Router-navigation"><a href="#1-Vue-Router-navigation" class="headerlink" title="1.Vue-Router navigation"></a>1.Vue-Router navigation</h1><h2 id="1-1-Layout"><a href="#1-1-Layout" class="headerlink" title="1.1 Layout"></a>1.1 Layout</h2><p>The general page layout of the front end is as follows:<br><img src="/2020/05/21/flask-vue-js-4/vue1.jpeg" alt="vue"></p></div><div class="article-footer"><a class="article-more" href="/2020/05/21/flask-vue-js-4/#more">more>></a><div class="article-tags"><i class="fa fa-tag" aria-hidden="true"></i><a class="article-tag" href="/tags/#vue.js">vue.js</a><a class="article-tag" href="/tags/#flask">flask</a><a class="article-tag" href="/tags/#RESTful">RESTful</a><a class="article-tag" href="/tags/#API">API</a><a class="article-tag" href="/tags/#FullStack">FullStack</a></div></div></div><div class="recent-post-item"><a class="article-title" href="/2020/05/08/flask-vue-js-3/">Flask+Vue.js(3)- Design User Model APIs</a><time class="article-date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-08</time><div class="article-inner"><p>Create <code>dev</code> branch</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b dev</span><br></pre></td></tr></table></figure>

<h1 id="1-Database"><a href="#1-Database" class="headerlink" title="1.Database"></a>1.Database</h1><h2 id="1-1-ORM-SQLAIchemy"><a href="#1-1-ORM-SQLAIchemy" class="headerlink" title="1.1 ORM: SQLAIchemy"></a>1.1 ORM: SQLAIchemy</h2><p>Install <code>Flask-SQLAlchemy</code>and <code>Flask-Migrate</code> plugin.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(back-end) bash-3.2$ pip install flask-sqlalchemy flask-migrate</span><br></pre></td></tr></table></figure></div><div class="article-footer"><a class="article-more" href="/2020/05/08/flask-vue-js-3/#more">more>></a><div class="article-tags"><i class="fa fa-tag" aria-hidden="true"></i><a class="article-tag" href="/tags/#vue.js">vue.js</a><a class="article-tag" href="/tags/#flask">flask</a><a class="article-tag" href="/tags/#RESTful">RESTful</a><a class="article-tag" href="/tags/#API">API</a><a class="article-tag" href="/tags/#FullStack">FullStack</a></div></div></div><div class="recent-post-item"><a class="article-title" href="/2020/05/01/flask-vue-js-2/">Flask+Vue.js(2)- Vue.js Connect With Flask RESTful API By Axios</a><time class="article-date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-01</time><div class="article-inner"><p>Create <code>dev</code> branch</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b dev</span><br></pre></td></tr></table></figure>
<h1 id="1-Configure-Vue-js"><a href="#1-Configure-Vue-js" class="headerlink" title="1.Configure Vue.js"></a>1.Configure Vue.js</h1><h2 id="1-1-Install-Node-js"><a href="#1-1-Install-Node-js" class="headerlink" title="1.1 Install Node.js"></a>1.1 Install Node.js</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br></pre></td></tr></table></figure></div><div class="article-footer"><a class="article-more" href="/2020/05/01/flask-vue-js-2/#more">more>></a><div class="article-tags"><i class="fa fa-tag" aria-hidden="true"></i><a class="article-tag" href="/tags/#vue.js">vue.js</a><a class="article-tag" href="/tags/#flask">flask</a><a class="article-tag" href="/tags/#RESTful">RESTful</a><a class="article-tag" href="/tags/#API">API</a><a class="article-tag" href="/tags/#FullStack">FullStack</a></div></div></div><div class="recent-post-item"><a class="article-title" href="/2020/05/01/flask-vue-js-1/">Flask+Vue.js(1)- The First Flask RESTful API</a><time class="article-date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-01</time><div class="article-inner"><h1 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h1><p>OS: macOS Mojave<br>Language: python 3.7<br>IDE: VS code</p>
<h1 id="1-Code-management"><a href="#1-Code-management" class="headerlink" title="1. Code management"></a>1. Code management</h1><h2 id="1-1-Install-git"><a href="#1-1-Install-git" class="headerlink" title="1.1 Install git"></a>1.1 Install git</h2></div><div class="article-footer"><a class="article-more" href="/2020/05/01/flask-vue-js-1/#more">more>></a><div class="article-tags"><i class="fa fa-tag" aria-hidden="true"></i><a class="article-tag" href="/tags/#vue.js">vue.js</a><a class="article-tag" href="/tags/#flask">flask</a><a class="article-tag" href="/tags/#RESTful">RESTful</a><a class="article-tag" href="/tags/#API">API</a><a class="article-tag" href="/tags/#FullStack">FullStack</a></div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div></div><footer><div id="footer-inner"><div class="social-icons"></div><p class="design-info">Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme <a href="https://github.com/lazysheep666/terminal_theme" target="_blank">Teminal</a> (<a href="https://github.com/Tonny-Gu/terminal_theme" target="_blank">NekoDaemon Remix</a>)</p><p class="design-info"> 
 Copyright Â© 2020 weird lab</p></div></footer><script src="/js/nav.js"></script><script src="/js/scroll.js"></script><script src="/js/index.js"></script></body></html>